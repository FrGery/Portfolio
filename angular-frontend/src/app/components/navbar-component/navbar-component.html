<!-- path: src/app/components/navbar/navbar-component.html -->

<header class="banner" [class.hidden]="scrolled" role="presentation" aria-label="Primary" id="banner">
  <nav class="banner-inner">
    <!-- Menu links -->
    <ul class="banner-links">
      @for (m of menu; track m.target) {
        <li>
          <a href
             (click)="scrollTo(m.target); $event.preventDefault()">
            {{ m.label }}
          </a>
        </li>
      }
    </ul>

    <!-- Social buttons -->
    <div class="banner-socials">
      @for (s of socials; track s.name) {
        @if (s.name === 'Email') {
          <button class="icon email-btn" type="button"
                  aria-label="Copy email to clipboard"
                  title="Copy email"
                  (click)="copyEmail()">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path [attr.d]="s.svg" />
            </svg>
          </button>
        } @else {
          <a class="icon" [href]="s.url" target="_blank" rel="noopener"
             [attr.aria-label]="s.name" [title]="s.name">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path [attr.d]="s.svg" />
            </svg>
          </a>
        }
      }
    </div>

    <!-- Mobile hamburger -->
    <button
      type="button"
      class="hamburger-btn"
      aria-label="Open menu"
      [attr.aria-expanded]="menuOpen"
      (click)="toggleMenu()">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
  </nav>
</header>

<!-- Sticky navbar -->
<nav class="glassy-navbar" [class.show]="showSticky">
  <div class="nav-links">
    @for (m of menu; track m.target) {
      <a href
         class="nav-link"
         (click)="scrollTo(m.target); $event.preventDefault()">
        {{ m.label }}
      </a>
    }
  </div>

  <div class="nav-socials">
    @for (s of socials; track s.name) {
      @if (s.name === 'Email') {
        <button class="icon email-btn" type="button"
                aria-label="Copy email to clipboard"
                title="Copy email"
                (click)="copyEmail()">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path [attr.d]="s.svg"></path>
          </svg>
        </button>
      } @else {
        <a [href]="s.url" class="icon" target="_blank" rel="noopener"
           [attr.aria-label]="s.name" [title]="s.name">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path [attr.d]="s.svg"></path>
          </svg>
        </a>
      }
    }
  </div>
</nav>

<!-- MOBILE OVERLAY -->
<div id="mobileMenu" class="mobile-overlay" [class.show]="menuOpen" (click)="closeMenu()">
  <div class="panel" (click)="$event.stopPropagation()">
    <button class="close" type="button" aria-label="Close" (click)="closeMenu()">Ã—</button>

    <nav class="mobile-links">
      @for (m of menu; track m.target) {
        <a href
           (click)="scrollTo(m.target); $event.preventDefault()">
          {{ m.label }}
        </a>
      }
    </nav>

    <div class="mobile-socials">
      @for (s of socials; track s.name) {
        @if (s.name === 'Email') {
          <button class="icon email-btn" type="button"
                  aria-label="Copy email to clipboard"
                  title="Copy email"
                  (click)="copyEmail()">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path [attr.d]="s.svg" />
            </svg>
          </button>
        } @else {
          <a class="icon" [href]="s.url" target="_blank" rel="noopener"
             [attr.aria-label]="s.name" [title]="s.name">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path [attr.d]="s.svg" /></svg>
          </a>
        }
      }
    </div>
  </div>
</div>

<!-- ðŸ“‹ Copy-to-clipboard toast -->
@if (showCopied) {
  <div class="copied-toast" role="status" aria-live="polite">
    ðŸ“‹ Email copied!
  </div>
}
